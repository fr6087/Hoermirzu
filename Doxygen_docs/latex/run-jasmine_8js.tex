\hypertarget{run-jasmine_8js}{}\section{C\+:/\+Users/user/source/repos/\+Hoermirzu/\+Listen\+To\+Me-\/master-\/89f0b49594deaade7bfad24dad062ff16eca36da/packages/\+Phantom\+JS.2.1.1/tools/phantomjs/examples/run-\/jasmine.js File Reference}
\label{run-jasmine_8js}\index{C\+:/\+Users/user/source/repos/\+Hoermirzu/\+Listen\+To\+Me-\/master-\/89f0b49594deaade7bfad24dad062ff16eca36da/packages/\+Phantom\+J\+S.\+2.\+1.\+1/tools/phantomjs/examples/run-\/jasmine.\+js@{C\+:/\+Users/user/source/repos/\+Hoermirzu/\+Listen\+To\+Me-\/master-\/89f0b49594deaade7bfad24dad062ff16eca36da/packages/\+Phantom\+J\+S.\+2.\+1.\+1/tools/phantomjs/examples/run-\/jasmine.\+js}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
function \hyperlink{run-jasmine_8js_a92050644a3b06d4b107af3a767f370b1}{wait\+For} (test\+Fx, on\+Ready, time\+Out\+Millis)
\item 
\hyperlink{run-jasmine_8js_a257c1144ed4804cfc7074491c5f634f2}{if} (system.\+args.\+length!==2)
\item 
\hyperlink{waitfor_8js_a85d8b1b97106b359e1c9ee119ebe5832}{page} \hyperlink{run-jasmine_8js_a855997306ec473484bd1e0b86606f9b6}{open} (\hyperlink{responsive-screenshot_8js_a64e5c861448a80a00f5c93e96de17d7a}{system.\+args}\mbox{[}1\mbox{]}, function(status)\{\hyperlink{sleepsort_8js_a41bc2f4fa2f08e1e174987b1c09445c1}{if}(status!==\char`\"{}success\char`\"{})\{console.\+log(\char`\"{}Unable to open \char`\"{}+system.\+args\mbox{[}1\mbox{]});\hyperlink{version_8js_a01fca00da67a8c60470b440fa7083bf7}{phantom.\+exit}(1);\}\hyperlink{sleepsort_8js_a0544c3fe466e421738dae463968b70ba}{else}\{\hyperlink{waitfor_8js_a92050644a3b06d4b107af3a767f370b1}{wait\+For}(function()\{                                       return \hyperlink{pagecallback_8js_a63376e151867d7c68f635e19817b9302}{page.\+evaluate}(function()\{                                                       return document.\+body.\+query\+Selector(\textquotesingle{}.symbol\+Summary.\+pending\textquotesingle{})===null                                       \});                       \}, function()\{                                       var exit\+Code=\hyperlink{pagecallback_8js_a63376e151867d7c68f635e19817b9302}{page.\+evaluate}(function()\{                                                       \hyperlink{echo_to_file_8js_abe4cc9788f52e49485473dc699537388}{try}\{                                                                       \hyperlink{version_8js_a8805635a2f9bf454129d95456a5d317a}{console.\+log}(\textquotesingle{}\textquotesingle{});                                                                       \hyperlink{version_8js_a8805635a2f9bf454129d95456a5d317a}{console.\+log}(document.\+body.\+query\+Selector(\textquotesingle{}.description\textquotesingle{}).inner\+Text);                                                                       var list=document.\+body.\+query\+Selector\+All(\textquotesingle{}.results $>$\#details $>$.spec\+Detail.\+failed\textquotesingle{});                                                                       \hyperlink{sleepsort_8js_a41bc2f4fa2f08e1e174987b1c09445c1}{if}(list \&\&list.\+length $>$ 0)\{                                                                               \hyperlink{version_8js_a8805635a2f9bf454129d95456a5d317a}{console.\+log}(\textquotesingle{}\textquotesingle{});                                                                               \hyperlink{version_8js_a8805635a2f9bf454129d95456a5d317a}{console.\+log}(list.\+length+ \textquotesingle{}test(s) F\+A\+I\+L\+E\+D\+:\textquotesingle{});                                                                               \hyperlink{printenv_8js_adf395edc207d098e5ade0b3bbab78f37}{for}(i=0;i$<$ list.\+length;++i)\{                                                                                               var el=list\mbox{[}i\mbox{]},                                                                                                               desc=el.\+query\+Selector(\textquotesingle{}.description\textquotesingle{}),                                                                                                               msg=el.\+query\+Selector(\textquotesingle{}.result\+Message.\+fail\textquotesingle{});                                                                                               \hyperlink{version_8js_a8805635a2f9bf454129d95456a5d317a}{console.\+log}(\textquotesingle{}\textquotesingle{});                                                                                               \hyperlink{version_8js_a8805635a2f9bf454129d95456a5d317a}{console.\+log}(desc.\+inner\+Text);                                                                                               \hyperlink{version_8js_a8805635a2f9bf454129d95456a5d317a}{console.\+log}(msg.\+inner\+Text);                                                                                               \hyperlink{version_8js_a8805635a2f9bf454129d95456a5d317a}{console.\+log}(\textquotesingle{}\textquotesingle{});                                                                               \}                                                                               return 1;                                                                       \}\hyperlink{sleepsort_8js_a0544c3fe466e421738dae463968b70ba}{else}\{                                                                               \hyperlink{version_8js_a8805635a2f9bf454129d95456a5d317a}{console.\+log}(document.\+body.\+query\+Selector(\textquotesingle{}.alert $>$.passing\+Alert.\+bar\textquotesingle{}).inner\+Text);                                                                               return 0;                                                                       \}                                                       \}\hyperlink{echo_to_file_8js_a5bf45fc51bc0426586792b5f9cb95431}{catch}(ex)\{                                                                       \hyperlink{version_8js_a8805635a2f9bf454129d95456a5d317a}{console.\+log}(ex);                                                                       return 1;                                                       \}                                       \});                                       \hyperlink{version_8js_a01fca00da67a8c60470b440fa7083bf7}{phantom.\+exit}(exit\+Code);                       \});\}\})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
use \hyperlink{run-jasmine_8js_ae2475e10618961c050dcba04e8c42331}{strict}
\item 
var \hyperlink{run-jasmine_8js_acdb77dc97eb44e91baaadd41d9d078fc}{system} = require(\textquotesingle{}system\textquotesingle{})
\item 
var \hyperlink{run-jasmine_8js_a85d8b1b97106b359e1c9ee119ebe5832}{page} = require(\textquotesingle{}webpage\textquotesingle{}).create()
\item 
\hyperlink{waitfor_8js_a85d8b1b97106b359e1c9ee119ebe5832}{page} \hyperlink{run-jasmine_8js_a87e6a5ff0ebb4d272a04b52dd70224c6}{on\+Console\+Message}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{run-\/jasmine.\+js@{run-\/jasmine.\+js}!if@{if}}
\index{if@{if}!run-\/jasmine.\+js@{run-\/jasmine.\+js}}
\subsubsection[{\texorpdfstring{if(system.\+args.\+length"!==2)}{if(system.args.length!==2)}}]{\setlength{\rightskip}{0pt plus 5cm}if (
\begin{DoxyParamCaption}
\item[{}]{system.\+args.\+length! = {\ttfamily =~2}}
\end{DoxyParamCaption}
)}\hypertarget{run-jasmine_8js_a257c1144ed4804cfc7074491c5f634f2}{}\label{run-jasmine_8js_a257c1144ed4804cfc7074491c5f634f2}
\index{run-\/jasmine.\+js@{run-\/jasmine.\+js}!open@{open}}
\index{open@{open}!run-\/jasmine.\+js@{run-\/jasmine.\+js}}
\subsubsection[{\texorpdfstring{open(system.\+args[1], function(status)\lcurly{}if(status"!==""success"")\lcurly{}console.\+log(""Unable to open ""+system.\+args[1]);phantom.\+exit(1);\rcurly{}else\lcurly{}wait\+For(function()\lcurly{}                                       return page.\+evaluate(function()\lcurly{}                                                       return document.\+body.\+query\+Selector(\textquotesingle{}.\+symbol\+Summary.\+pending\textquotesingle{})===null                                       \rcurly{});                       \rcurly{}, function()\lcurly{}                                       var exit\+Code=page.\+evaluate(function()\lcurly{}                                                       try\lcurly{}                                                                       console.\+log(\textquotesingle{}\textquotesingle{});                                                                       console.\+log(document.\+body.\+query\+Selector(\textquotesingle{}.\+description\textquotesingle{}).\+inner\+Text);                                                                       var list=document.\+body.\+query\+Selector\+All(\textquotesingle{}.\+results $>$\#details $>$.\+spec\+Detail.\+failed\textquotesingle{});                                                                       if(list \&\&list.\+length $>$ 0)\lcurly{}                                                                               console.\+log(\textquotesingle{}\textquotesingle{});                                                                               console.\+log(list.\+length+ \textquotesingle{}test(s) F\+A\+I\+L\+E\+D\+:\textquotesingle{});                                                                               for(i=0;i$<$ list.\+length;++i)\lcurly{}                                                                                               var el=list[i],                                                                                                               desc=el.\+query\+Selector(\textquotesingle{}.\+description\textquotesingle{}),                                                                                                               msg=el.\+query\+Selector(\textquotesingle{}.\+result\+Message.\+fail\textquotesingle{});                                                                                               console.\+log(\textquotesingle{}\textquotesingle{});                                                                                               console.\+log(desc.\+inner\+Text);                                                                                               console.\+log(msg.\+inner\+Text);                                                                                               console.\+log(\textquotesingle{}\textquotesingle{});                                                                               \rcurly{}                                                                               return 1;                                                                       \rcurly{}else\lcurly{}                                                                               console.\+log(document.\+body.\+query\+Selector(\textquotesingle{}.\+alert $>$.\+passing\+Alert.\+bar\textquotesingle{}).\+inner\+Text);                                                                               return 0;                                                                       \rcurly{}                                                       \rcurly{}catch(ex)\lcurly{}                                                                       console.\+log(ex);                                                                       return 1;                                                       \rcurly{}                                       \rcurly{});                                       phantom.\+exit(exit\+Code);                       \rcurly{});\rcurly{}\rcurly{})}{open(system.args[1], function(status)\{if(status!=="success")\{console.log("Unable to open "+system.args[1]);phantom.exit(1);\}else\{waitFor(function()\{                                       return page.evaluate(function()\{                                                       return document.body.querySelector('.symbolSummary.pending')===null                                       \});                       \}, function()\{                                       var exitCode=page.evaluate(function()\{                                                       try\{                                                                       console.log('');                                                                       console.log(document.body.querySelector('.description').innerText);                                                                       var list=document.body.querySelectorAll('.results >#details >.specDetail.failed');                                                                       if(list &&list.length > 0)\{                                                                               console.log('');                                                                               console.log(list.length+ 'test(s) FAILED:');                                                                               for(i=0;i< list.length;++i)\{                                                                                               var el=list[i],                                                                                                               desc=el.querySelector('.description'),                                                                                                               msg=el.querySelector('.resultMessage.fail');                                                                                               console.log('');                                                                                               console.log(desc.innerText);                                                                                               console.log(msg.innerText);                                                                                               console.log('');                                                                               \}                                                                               return 1;                                                                       \}else\{                                                                               console.log(document.body.querySelector('.alert >.passingAlert.bar').innerText);                                                                               return 0;                                                                       \}                                                       \}catch(ex)\{                                                                       console.log(ex);                                                                       return 1;                                                       \}                                       \});                                       phantom.exit(exitCode);                       \});\}\})}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf page} open (
\begin{DoxyParamCaption}
\item[{system.}]{args\mbox{[}1\mbox{]}, }
\item[{function(status)\{{\bf if}(status!==\char`\"{}success\char`\"{})\{console.\+log(\char`\"{}Unable to open \char`\"{}+system.\+args\mbox{[}1\mbox{]});{\bf phantom.\+exit}(1);\}{\bf else}\{{\bf wait\+For}(function()\{                                                                                                                                                   return {\bf page.\+evaluate}(function()\{                                                                                                                                                                                                                   return document.\+body.\+query\+Selector(\textquotesingle{}.symbol\+Summary.\+pending\textquotesingle{})===null                                                                                                                                                   \});                                                                                   \}, function()\{                                                                                                                                                   var exit\+Code={\bf page.\+evaluate}(function()\{                                                                                                                                                                                                                   {\bf try}\{                                                                                                                                                                                                                                                                                   {\bf console.\+log}(\textquotesingle{}\textquotesingle{});                                                                                                                                                                                                                                                                                   {\bf console.\+log}(document.\+body.\+query\+Selector(\textquotesingle{}.description\textquotesingle{}).inner\+Text);                                                                                                                                                                                                                                                                                   var list=document.\+body.\+query\+Selector\+All(\textquotesingle{}.results $>$\#details $>$.spec\+Detail.\+failed\textquotesingle{});                                                                                                                                                                                                                                                                                   {\bf if}(list \&\&list.\+length $>$ 0)\{                                                                                                                                                                                                                                                                                                                   {\bf console.\+log}(\textquotesingle{}\textquotesingle{});                                                                                                                                                                                                                                                                                                                   {\bf console.\+log}(list.\+length+ \textquotesingle{}test(s) F\+A\+I\+L\+E\+D\+:\textquotesingle{});                                                                                                                                                                                                                                                                                                                   {\bf for}(i=0;i$<$ list.\+length;++i)\{                                                                                                                                                                                                                                                                                                                                                                                   var el=list\mbox{[}i\mbox{]},                                                                                                                                                                                                                                                                                                                                                                                                                                                   desc=el.\+query\+Selector(\textquotesingle{}.description\textquotesingle{}),                                                                                                                                                                                                                                                                                                                                                                                                                                                   msg=el.\+query\+Selector(\textquotesingle{}.result\+Message.\+fail\textquotesingle{});                                                                                                                                                                                                                                                                                                                                                                                   {\bf console.\+log}(\textquotesingle{}\textquotesingle{});                                                                                                                                                                                                                                                                                                                                                                                   {\bf console.\+log}(desc.\+inner\+Text);                                                                                                                                                                                                                                                                                                                                                                                   {\bf console.\+log}(msg.\+inner\+Text);                                                                                                                                                                                                                                                                                                                                                                                   {\bf console.\+log}(\textquotesingle{}\textquotesingle{});                                                                                                                                                                                                                                                                                                                   \}                                                                                                                                                                                                                                                                                                                   return 1;                                                                                                                                                                                                                                                                                   \}{\bf else}\{                                                                                                                                                                                                                                                                                                                   {\bf console.\+log}(document.\+body.\+query\+Selector(\textquotesingle{}.alert $>$.passing\+Alert.\+bar\textquotesingle{}).inner\+Text);                                                                                                                                                                                                                                                                                                                   return 0;                                                                                                                                                                                                                                                                                   \}                                                                                                                                                                                                                   \}{\bf catch}(ex)\{                                                                                                                                                                                                                                                                                   {\bf console.\+log}(ex);                                                                                                                                                                                                                                                                                   return 1;                                                                                                                                                                                                                   \}                                                                                                                                                   \});                                                                                                                                                   {\bf phantom.\+exit}(exit\+Code);                                                                                   \});\}\}}]{}
\end{DoxyParamCaption}
)}\hypertarget{run-jasmine_8js_a855997306ec473484bd1e0b86606f9b6}{}\label{run-jasmine_8js_a855997306ec473484bd1e0b86606f9b6}
\index{run-\/jasmine.\+js@{run-\/jasmine.\+js}!wait\+For@{wait\+For}}
\index{wait\+For@{wait\+For}!run-\/jasmine.\+js@{run-\/jasmine.\+js}}
\subsubsection[{\texorpdfstring{wait\+For(test\+Fx, on\+Ready, time\+Out\+Millis)}{waitFor(testFx, onReady, timeOutMillis)}}]{\setlength{\rightskip}{0pt plus 5cm}function wait\+For (
\begin{DoxyParamCaption}
\item[{}]{test\+Fx, }
\item[{}]{on\+Ready, }
\item[{}]{time\+Out\+Millis}
\end{DoxyParamCaption}
)}\hypertarget{run-jasmine_8js_a92050644a3b06d4b107af3a767f370b1}{}\label{run-jasmine_8js_a92050644a3b06d4b107af3a767f370b1}
Wait until the test condition is true or a timeout occurs. Useful for waiting on a server response or for a ui change (fade\+In, etc.) to occur.


\begin{DoxyParams}{Parameters}
{\em test\+Fx} & javascript condition that evaluates to a boolean, it can be passed in as a string (e.\+g.\+: \char`\"{}1 == 1\char`\"{} or \char`\"{}\$(\textquotesingle{}\#bar\textquotesingle{}).\+is(\textquotesingle{}\+:visible\textquotesingle{})\char`\"{} or as a callback function. \\
\hline
{\em on\+Ready} & what to do when test\+Fx condition is fulfilled, it can be passed in as a string (e.\+g.\+: \char`\"{}1 == 1\char`\"{} or \char`\"{}\$(\textquotesingle{}\#bar\textquotesingle{}).\+is(\textquotesingle{}\+:visible\textquotesingle{})\char`\"{} or as a callback function. \\
\hline
{\em time\+Out\+Millis} & the max amount of time to wait. If not specified, 3 sec is used. \\
\hline
\end{DoxyParams}


References interval, and start().



Here is the call graph for this function\+:
% FIG 0




\subsection{Variable Documentation}
\index{run-\/jasmine.\+js@{run-\/jasmine.\+js}!on\+Console\+Message@{on\+Console\+Message}}
\index{on\+Console\+Message@{on\+Console\+Message}!run-\/jasmine.\+js@{run-\/jasmine.\+js}}
\subsubsection[{\texorpdfstring{on\+Console\+Message}{onConsoleMessage}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf page} on\+Console\+Message}\hypertarget{run-jasmine_8js_a87e6a5ff0ebb4d272a04b52dd70224c6}{}\label{run-jasmine_8js_a87e6a5ff0ebb4d272a04b52dd70224c6}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \textcolor{keyword}{function}(msg) \{
    console.log(msg);
\}
\end{DoxyCode}
\index{run-\/jasmine.\+js@{run-\/jasmine.\+js}!page@{page}}
\index{page@{page}!run-\/jasmine.\+js@{run-\/jasmine.\+js}}
\subsubsection[{\texorpdfstring{page}{page}}]{\setlength{\rightskip}{0pt plus 5cm}var page = require(\textquotesingle{}webpage\textquotesingle{}).create()}\hypertarget{run-jasmine_8js_a85d8b1b97106b359e1c9ee119ebe5832}{}\label{run-jasmine_8js_a85d8b1b97106b359e1c9ee119ebe5832}
\index{run-\/jasmine.\+js@{run-\/jasmine.\+js}!strict@{strict}}
\index{strict@{strict}!run-\/jasmine.\+js@{run-\/jasmine.\+js}}
\subsubsection[{\texorpdfstring{strict}{strict}}]{\setlength{\rightskip}{0pt plus 5cm}use strict}\hypertarget{run-jasmine_8js_ae2475e10618961c050dcba04e8c42331}{}\label{run-jasmine_8js_ae2475e10618961c050dcba04e8c42331}
\index{run-\/jasmine.\+js@{run-\/jasmine.\+js}!system@{system}}
\index{system@{system}!run-\/jasmine.\+js@{run-\/jasmine.\+js}}
\subsubsection[{\texorpdfstring{system}{system}}]{\setlength{\rightskip}{0pt plus 5cm}var system = require(\textquotesingle{}system\textquotesingle{})}\hypertarget{run-jasmine_8js_acdb77dc97eb44e91baaadd41d9d078fc}{}\label{run-jasmine_8js_acdb77dc97eb44e91baaadd41d9d078fc}
